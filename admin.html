<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Painel de Atendimento Interativo</title>
  <style>
    /* Mant√©m o seu CSS original, pois est√° limpo e responsivo */
    /* ... (Seu CSS aqui) ... */
  </style>
</head>
<body>
<div class="painel-container">
  <div class="panel-block" id="panel-fila">
    <div class="panel-title">Filas</div>
    <div class="panel-subtitle">(Clientes Esperando)</div>
    <span class="panel-quantidade" id="filaQtd"></span>
    <div class="select-group">
      <select id="filtroFilaAtendente">
        <option value="">Todos atendentes</option>
        <option>Alisson</option><option>Robson</option><option>Dayanne</option><option>Jo√£o</option><option>Elber</option>
      </select>
      <input type="text" id="filtroFilaNome" placeholder="Filtre cliente pelo nome...">
    </div>
    <div class="panel-tme" id="filaTME"></div>
    <div class="clientes-lista" id="filaClientes"></div>
  </div>
  <div class="panel-block" id="panel-chamados">
    <div class="panel-title">Clientes Chamados Hoje</div>
    <span class="panel-quantidade" id="chamadosQtd"></span>
    <div class="select-group">
      <select id="filtroChamadosAtendente">
        <option value="">Todos atendentes</option>
        <option>Alisson</option><option>Robson</option><option>Dayanne</option><option>Jo√£o</option><option>Elber</option>
      </select>
      <input type="text" id="filtroChamadosNome" placeholder="Filtre cliente pelo nome...">
    </div>
    <div class="panel-tme" id="chamadosTMA"></div>
    <div class="clientes-lista" id="chamadosClientes"></div>
  </div>
</div>
<script>
  // Exemplo de dados simulados substitua por integra√ß√£o real depois
  const clientesFila = [{nome: 'Jo√£o Silva', senha: 'CR001', horario:'25/11/2025 12:03', atendente:'Alisson'}];
  const clientesChamados = [
    {nome: 'Ana Lucia', senha: 'SA18', horario: '24/11 17:33', atendente: 'Robson'},
    {nome: 'Camily', senha: 'SR503', horario: '24/11 16:40', atendente: 'Jo√£o'},
  ];

  function renderPainel({ containerId, dados, nomeQtd, nomeTME, filtroNomeId, filtroAtendId, modo }) {
    const painelLista = document.getElementById(containerId);
    const painelQtd = document.getElementById(nomeQtd);
    const painelTME = document.getElementById(nomeTME);
    const filtroNome = document.getElementById(filtroNomeId).value.toLowerCase();
    const filtroAtend = document.getElementById(filtroAtendId).value;
    painelLista.innerHTML = '';
    let exibir = dados.filter(cli =>
      (!filtroNome || cli.nome.toLowerCase().includes(filtroNome)) &&
      (!filtroAtend || cli.atendente === filtroAtend)
    );
    if (exibir.length === 0) {
      painelLista.innerHTML = '<div class="fila-vazia">Ningu√©m na fila!</div>';
    } else {
      exibir.forEach(cli => {
        painelLista.innerHTML += `
          <div class="cliente-card">
            <div class="cliente-foto">üë§</div>
            <div class="cliente-info">
              <div class="cliente-nome">${cli.nome}</div>
              <div class="cliente-detalhe">Senha: ${cli.senha}</div>
            </div>
            <div class="cliente-horario">${cli.horario}</div>
          </div>`;
      });
    }
    painelQtd.textContent = `Quantidade: ${exibir.length}`;
    painelTME.textContent = modo === 'fila' ? `TME: ${calcTME(exibir)}` : `TMA: ${calcTME(exibir)}`;
  }

  // Exemplo simples: retorna sempre "2m 32s" apenas para visual do painel
  function calcTME(lista) {
    return lista.length ? "2m 32s" : "0m";
  }

  // Eventos
  ['filtroFilaNome','filtroFilaAtendente'].forEach(id => {
    document.getElementById(id).addEventListener('input', () =>
      renderPainel({
        containerId:'filaClientes',dados:clientesFila,
        nomeQtd:'filaQtd',nomeTME:'filaTME',
        filtroNomeId:'filtroFilaNome',filtroAtendId:'filtroFilaAtendente', modo:'fila'
      })
    );
  });

  ['filtroChamadosNome','filtroChamadosAtendente'].forEach(id => {
    document.getElementById(id).addEventListener('input', () =>
      renderPainel({
        containerId:'chamadosClientes',dados:clientesChamados,
        nomeQtd:'chamadosQtd',nomeTME:'chamadosTMA',
        filtroNomeId:'filtroChamadosNome',filtroAtendId:'filtroChamadosAtendente', modo:'chamados'
      })
    );
  });

  // Inicializa
  renderPainel({
    containerId:'filaClientes',dados:clientesFila,
    nomeQtd:'filaQtd',nomeTME:'filaTME',
    filtroNomeId:'filtroFilaNome',filtroAtendId:'filtroFilaAtendente', modo:'fila'
  });
  renderPainel({
    containerId:'chamadosClientes',dados:clientesChamados,
    nomeQtd:'chamadosQtd',nomeTME:'chamadosTMA',
    filtroNomeId:'filtroChamadosNome',filtroAtendId:'filtroChamadosAtendente', modo:'chamados'
  });
</script>
</body>
</html>
